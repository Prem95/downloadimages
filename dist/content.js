(()=>{"use strict";console.log("Content script loaded"),chrome.runtime.onMessage.addListener(((e,o,a)=>{if(console.log("Message received in content script:",e),"downloadImages"===e.action){const e=Array.from(document.images).slice(0,100).map(((e,o)=>({file_name:e.src.split("/").pop()||`image_${o+1}`,file_download_path:e.src,file_downloaded:"NO"}))),o=(n=e,[["file_name","file_download_path","file_downloaded"].join(","),...n.map((e=>`${e.file_name},${e.file_download_path},${e.file_downloaded}`))].join("\n"));a({success:!0,csvDataUrl:"data:text/csv;charset=utf-8,"+encodeURIComponent(o),totalImages:e.length})}var n;return!0}))})();